{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useElementLayout;\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\nvar _UIManager = _interopRequireDefault(require(\"../../exports/UIManager\"));\nvar _canUseDom = _interopRequireDefault(require(\"../canUseDom\"));\nvar DOM_LAYOUT_HANDLER_NAME = '__reactLayoutHandler';\nvar didWarn = !_canUseDom.default;\nvar resizeObserver = null;\nfunction getResizeObserver() {\n  if (_canUseDom.default && typeof window.ResizeObserver !== 'undefined') {\n    if (resizeObserver == null) {\n      resizeObserver = new window.ResizeObserver(function (entries) {\n        entries.forEach(function (entry) {\n          var node = entry.target;\n          var onLayout = node[DOM_LAYOUT_HANDLER_NAME];\n          if (typeof onLayout === 'function') {\n            _UIManager.default.measure(node, function (x, y, width, height, left, top) {\n              var event = {\n                nativeEvent: {\n                  layout: {\n                    x: x,\n                    y: y,\n                    width: width,\n                    height: height,\n                    left: left,\n                    top: top\n                  }\n                },\n                timeStamp: Date.now()\n              };\n              Object.defineProperty(event.nativeEvent, 'target', {\n                enumerable: true,\n                get: function get() {\n                  return entry.target;\n                }\n              });\n              onLayout(event);\n            });\n          }\n        });\n      });\n    }\n  } else if (!didWarn) {\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');\n      didWarn = true;\n    }\n  }\n  return resizeObserver;\n}\nfunction useElementLayout(ref, onLayout) {\n  var observer = getResizeObserver();\n  (0, _useLayoutEffect.default)(function () {\n    var node = ref.current;\n    if (node != null) {\n      node[DOM_LAYOUT_HANDLER_NAME] = onLayout;\n    }\n  }, [ref, onLayout]);\n  (0, _useLayoutEffect.default)(function () {\n    var node = ref.current;\n    if (node != null && observer != null) {\n      if (typeof node[DOM_LAYOUT_HANDLER_NAME] === 'function') {\n        observer.observe(node);\n      } else {\n        observer.unobserve(node);\n      }\n    }\n    return function () {\n      if (node != null && observer != null) {\n        observer.unobserve(node);\n      }\n    };\n  }, [ref, observer]);\n}","map":{"version":3,"names":["_useLayoutEffect","_interopRequireDefault","require","_UIManager","_canUseDom","DOM_LAYOUT_HANDLER_NAME","didWarn","canUseDOM","resizeObserver","getResizeObserver","window","ResizeObserver","entries","forEach","entry","node","target","onLayout","UIManager","measure","x","y","width","height","left","top","event","nativeEvent","layout","timeStamp","Date","now","Object","defineProperty","enumerable","get","process","env","NODE_ENV","console","warn","useElementLayout","ref","observer","useLayoutEffect","current","observe","unobserve"],"sources":["C:/xampp/htdocs/Kush/whatsapp_facebook_messenger/chat/node_modules/react-native-web/src/modules/useElementLayout/index.js"],"sourcesContent":["/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type { ElementRef } from 'react';\nimport type { LayoutEvent } from '../../types';\n\nimport useLayoutEffect from '../useLayoutEffect';\nimport UIManager from '../../exports/UIManager';\nimport canUseDOM from '../canUseDom';\n\nconst DOM_LAYOUT_HANDLER_NAME = '__reactLayoutHandler';\n\nlet didWarn = !canUseDOM;\nlet resizeObserver = null;\n\nfunction getResizeObserver(): ?ResizeObserver {\n  if (canUseDOM && typeof window.ResizeObserver !== 'undefined') {\n    if (resizeObserver == null) {\n      resizeObserver = new window.ResizeObserver(function (entries) {\n        entries.forEach((entry) => {\n          const node = entry.target;\n          const onLayout = node[DOM_LAYOUT_HANDLER_NAME];\n          if (typeof onLayout === 'function') {\n            // We still need to measure the view because browsers don't yet provide\n            // border-box dimensions in the entry\n            UIManager.measure(node, (x, y, width, height, left, top) => {\n              const event: LayoutEvent = {\n                // $FlowFixMe\n                nativeEvent: {\n                  layout: { x, y, width, height, left, top }\n                },\n                timeStamp: Date.now()\n              };\n              Object.defineProperty(event.nativeEvent, 'target', {\n                enumerable: true,\n                get: () => entry.target\n              });\n              onLayout(event);\n            });\n          }\n        });\n      });\n    }\n  } else if (!didWarn) {\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'test'\n    ) {\n      console.warn(\n        'onLayout relies on ResizeObserver which is not supported by your browser. ' +\n          'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.'\n      );\n      didWarn = true;\n    }\n  }\n  return resizeObserver;\n}\n\nexport default function useElementLayout(\n  ref: ElementRef<any>,\n  onLayout?: ?(e: LayoutEvent) => void\n) {\n  const observer = getResizeObserver();\n\n  useLayoutEffect(() => {\n    const node = ref.current;\n    if (node != null) {\n      node[DOM_LAYOUT_HANDLER_NAME] = onLayout;\n    }\n  }, [ref, onLayout]);\n\n  // Observing is done in a separate effect to avoid this effect running\n  // when 'onLayout' changes.\n  useLayoutEffect(() => {\n    const node = ref.current;\n    if (node != null && observer != null) {\n      if (typeof node[DOM_LAYOUT_HANDLER_NAME] === 'function') {\n        observer.observe(node);\n      } else {\n        observer.unobserve(node);\n      }\n    }\n    return () => {\n      if (node != null && observer != null) {\n        observer.unobserve(node);\n      }\n    };\n  }, [ref, observer]);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}